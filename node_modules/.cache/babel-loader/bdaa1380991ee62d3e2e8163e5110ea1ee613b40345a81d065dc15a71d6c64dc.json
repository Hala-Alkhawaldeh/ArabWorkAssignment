{"ast":null,"code":"export default {\n  name: \"GMap\",\n  props: {},\n  data() {\n    return {\n      map: null,\n      center: null,\n      mapDivRef: null,\n      marker: null,\n      myLatLng: null,\n      locationName: null\n    };\n  },\n  mounted() {\n    // Load the Google Map script\n    const key = \"YOUR_API_KEY\"; // Replace with your Google Maps API key\n\n    const googleMapScript = document.createElement(\"script\");\n    googleMapScript.setAttribute(\"src\", `https://maps.googleapis.com/maps/api/js?key=${key}&callback=initMap(0,0)`);\n    googleMapScript.setAttribute(\"async\", \"\");\n    googleMapScript.setAttribute(\"defer\", \"\");\n    document.head.appendChild(googleMapScript);\n    this.locateGeoLocation();\n  },\n  methods: {\n    locateGeoLocation() {\n      navigator.geolocation.getCurrentPosition(res => {\n        this.center = {\n          lat: res.coords.latitude,\n          lng: res.coords.longitude\n        };\n        setTimeout(() => {\n          this.initMap(this.center.lat, this.center.lng);\n          this.getLocationName(this.center);\n        }, 3000);\n      });\n    },\n    getLocationName(latlng) {\n      let geocoder = new google.maps.Geocoder();\n      geocoder.geocode({\n        location: latlng\n      }, (results, status) => {\n        if (status === \"OK\") {\n          if (results[1]) {\n            this.locationName = results[1].formatted_address;\n          } else {\n            console.log(\"No results found\");\n          }\n        }\n      });\n    },\n    initMarker(myLatLng) {\n      this.marker = new google.maps.Marker({\n        position: myLatLng,\n        map: this.map,\n        draggable: true,\n        title: \"Drag me!\"\n      });\n      google.maps.event.addListener(this.marker, \"dragend\", function (ev) {\n        // Handle marker drag end event\n      });\n    }\n  },\n  created() {\n    const initMap = (lat, lng) => {\n      this.myLatLng = {\n        lat,\n        lng\n      };\n      this.map = new google.maps.Map(this.mapDivRef, {\n        mapTypeId: this.mapType,\n        zoom: this.zoom,\n        center: this.myLatLng\n      });\n      this.initMarker(this.myLatLng);\n    };\n  }\n};","map":{"version":3,"names":["name","props","data","map","center","mapDivRef","marker","myLatLng","locationName","mounted","key","googleMapScript","document","createElement","setAttribute","head","appendChild","locateGeoLocation","methods","navigator","geolocation","getCurrentPosition","res","lat","coords","latitude","lng","longitude","setTimeout","initMap","getLocationName","latlng","geocoder","google","maps","Geocoder","geocode","location","results","status","formatted_address","console","log","initMarker","Marker","position","draggable","title","event","addListener","ev","created","Map","mapTypeId","mapType","zoom"],"sources":["src/components/gmap.vue"],"sourcesContent":["<template>\n  <div class=\"map\" ref=\"mapDivRef\"></div>\n</template>\n\n<script>\nexport default {\n  name: \"GMap\",\n  props: {},\n  data() {\n    return {\n      map: null,\n      center: null,\n      mapDivRef: null,\n      marker: null,\n      myLatLng: null,\n      locationName: null,\n    };\n  },\n  mounted() {\n    // Load the Google Map script\n    const key = \"YOUR_API_KEY\"; // Replace with your Google Maps API key\n\n    const googleMapScript = document.createElement(\"script\");\n    googleMapScript.setAttribute(\n      \"src\",\n      `https://maps.googleapis.com/maps/api/js?key=${key}&callback=initMap(0,0)`\n    );\n    googleMapScript.setAttribute(\"async\", \"\");\n    googleMapScript.setAttribute(\"defer\", \"\");\n    document.head.appendChild(googleMapScript);\n\n    this.locateGeoLocation();\n  },\n  methods: {\n   \n    locateGeoLocation() {\n      navigator.geolocation.getCurrentPosition((res) => {\n        this.center = { lat: res.coords.latitude, lng: res.coords.longitude };\n\n        setTimeout(() => {\n          this.initMap(this.center.lat, this.center.lng);\n          this.getLocationName(this.center);\n        }, 3000);\n      });\n    },\n    getLocationName(latlng) {\n      let geocoder = new google.maps.Geocoder();\n      geocoder.geocode({ location: latlng }, (results, status) => {\n        if (status === \"OK\") {\n          if (results[1]) {\n            this.locationName = results[1].formatted_address;\n          } else {\n            console.log(\"No results found\");\n          }\n        }\n      });\n    },\n    initMarker(myLatLng) {\n      this.marker = new google.maps.Marker({\n        position: myLatLng,\n        map: this.map,\n        draggable: true,\n        title: \"Drag me!\",\n      });\n\n      google.maps.event.addListener(this.marker, \"dragend\", function (ev) {\n        // Handle marker drag end event\n      });\n    },\n  },\n  created() {\n   const initMap =(lat, lng)=> {\n      this.myLatLng = { lat, lng };\n      this.map = new google.maps.Map(this.mapDivRef, {\n        mapTypeId: this.mapType,\n        zoom: this.zoom,\n        center: this.myLatLng,\n      });\n      this.initMarker(this.myLatLng);\n    }\n  },\n};\n\n</script>\n\n<style scoped>\n.map {\n  width: 100%;\n  height: 300px;\n  background-color: azure;\n}\n</style>"],"mappings":"AAKA;EACAA,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,GAAA;MACAC,MAAA;MACAC,SAAA;MACAC,MAAA;MACAC,QAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,MAAAC,GAAA;;IAEA,MAAAC,eAAA,GAAAC,QAAA,CAAAC,aAAA;IACAF,eAAA,CAAAG,YAAA,CACA,OACA,+CAAAJ,GAAA,wBACA;IACAC,eAAA,CAAAG,YAAA;IACAH,eAAA,CAAAG,YAAA;IACAF,QAAA,CAAAG,IAAA,CAAAC,WAAA,CAAAL,eAAA;IAEA,KAAAM,iBAAA;EACA;EACAC,OAAA;IAEAD,kBAAA;MACAE,SAAA,CAAAC,WAAA,CAAAC,kBAAA,CAAAC,GAAA;QACA,KAAAlB,MAAA;UAAAmB,GAAA,EAAAD,GAAA,CAAAE,MAAA,CAAAC,QAAA;UAAAC,GAAA,EAAAJ,GAAA,CAAAE,MAAA,CAAAG;QAAA;QAEAC,UAAA;UACA,KAAAC,OAAA,MAAAzB,MAAA,CAAAmB,GAAA,OAAAnB,MAAA,CAAAsB,GAAA;UACA,KAAAI,eAAA,MAAA1B,MAAA;QACA;MACA;IACA;IACA0B,gBAAAC,MAAA;MACA,IAAAC,QAAA,OAAAC,MAAA,CAAAC,IAAA,CAAAC,QAAA;MACAH,QAAA,CAAAI,OAAA;QAAAC,QAAA,EAAAN;MAAA,IAAAO,OAAA,EAAAC,MAAA;QACA,IAAAA,MAAA;UACA,IAAAD,OAAA;YACA,KAAA9B,YAAA,GAAA8B,OAAA,IAAAE,iBAAA;UACA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACAC,WAAApC,QAAA;MACA,KAAAD,MAAA,OAAA2B,MAAA,CAAAC,IAAA,CAAAU,MAAA;QACAC,QAAA,EAAAtC,QAAA;QACAJ,GAAA,OAAAA,GAAA;QACA2C,SAAA;QACAC,KAAA;MACA;MAEAd,MAAA,CAAAC,IAAA,CAAAc,KAAA,CAAAC,WAAA,MAAA3C,MAAA,uBAAA4C,EAAA;QACA;MAAA,CACA;IACA;EACA;EACAC,QAAA;IACA,MAAAtB,OAAA,GAAAA,CAAAN,GAAA,EAAAG,GAAA;MACA,KAAAnB,QAAA;QAAAgB,GAAA;QAAAG;MAAA;MACA,KAAAvB,GAAA,OAAA8B,MAAA,CAAAC,IAAA,CAAAkB,GAAA,MAAA/C,SAAA;QACAgD,SAAA,OAAAC,OAAA;QACAC,IAAA,OAAAA,IAAA;QACAnD,MAAA,OAAAG;MACA;MACA,KAAAoC,UAAA,MAAApC,QAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}